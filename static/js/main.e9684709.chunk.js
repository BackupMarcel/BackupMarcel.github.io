(this["webpackJsonpbackup-marcel"]=this["webpackJsonpbackup-marcel"]||[]).push([[0],{228:function(e,t,n){},229:function(e,t,n){},237:function(e,t){},239:function(e,t){},249:function(e,t){},251:function(e,t){},276:function(e,t){},277:function(e,t){},282:function(e,t){},284:function(e,t){},291:function(e,t){},310:function(e,t){},425:function(e,t,n){"use strict";n.r(t);var s=n(0),r=n.n(s),i=n(36),a=n.n(i),c=(n(228),n(83)),o=n(145),p=n(147),u=n(69),l=n(70),h=n(73),j=n(72),d=(n(229),n(432)),b=n(431),y=n(429),O=n(71),f=n(42),x=n(220),v=n(433),m=n(434),g=n(435),C=n(430),k=n(89),P=n(91),I=n(34),N=n.n(I),E=n(6),S=d.a.Content,D=b.a.TextArea,F=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"onChangeKey",value:function(e){var t=Object(p.a)({},this.props.property);t.key=e.target.value,this.props.update(t)}},{key:"onChangeValue",value:function(e){var t=Object(p.a)({},this.props.property);t.value=e.target.value,this.props.update(t)}},{key:"render",value:function(){var e=this;return Object(E.jsxs)("div",{children:[Object(E.jsx)(y.a.Item,{name:"key"+this.props.property.id,children:Object(E.jsx)(b.a,{prefix:Object(E.jsx)(k.a,{icon:P.d,className:"icon-input"}),type:"text",placeholder:"Key",value:this.props.property.key,autoComplete:"off",onChange:function(t){return e.onChangeKey(t)}})}),Object(E.jsx)(y.a.Item,{name:"value"+this.props.property.id,children:Object(E.jsx)(b.a,{prefix:Object(E.jsx)(k.a,{icon:P.c,className:"icon-input"}),type:"text",placeholder:"Value",value:this.props.property.value,autoComplete:"off",onChange:function(t){return e.onChangeValue(t)}})})]})}}]),n}(s.Component),B=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(u.a)(this,n),(s=t.call(this,e)).index=0,s.propertiesRef=r.a.createRef(),s.state={propertiesPos:0,properties:[{id:s.index}]},s}return Object(l.a)(n,[{key:"addProperty",value:function(){this.index=this.index+1;var e={id:this.index,key:"",value:""},t=[].concat(Object(o.a)(this.props.properties),[e]);this.props.onChange(t),this.propertiesRef.goTo(this.props.properties.length)}},{key:"removeProperty",value:function(e){var t=Object(o.a)(this.props.properties);t.splice(e,1),this.props.onChange(t),this.propertiesRef.goTo(this.state.propertiesPos)}},{key:"updateProperty",value:function(e){var t=this.props.properties.map((function(t){return t.id===e.id?e:t}));this.props.onChange(t)}},{key:"onChangePropertiesPos",value:function(e){this.propertiesRef.goTo(e),this.setState((function(t){return{propertiesPos:e}}))}},{key:"render",value:function(){var e=this;return Object(E.jsx)(y.a.Item,{label:Object(E.jsxs)("div",{children:["Properties ",Object(E.jsx)("small",{children:"Text"})]}),children:Object(E.jsxs)(O.a,{gutter:[5,15],children:[Object(E.jsx)(f.a,{span:24,children:Object(E.jsxs)(O.a,{gutter:5,children:[Object(E.jsx)(f.a,{span:3,children:Object(E.jsx)(x.a,{size:"small",className:"button-step",disabled:this.state.propertiesPos<=0,onClick:function(){return e.propertiesRef.prev()},children:Object(E.jsx)(k.a,{icon:P.a})})}),Object(E.jsx)(f.a,{span:9,className:"align-center property-current",children:Object(E.jsx)(x.a,{size:"small",className:"button-step",onClick:function(){return e.addProperty()},children:"Add"})}),Object(E.jsx)(f.a,{span:9,className:"align-center property-current",children:Object(E.jsx)(x.a,{size:"small",className:"button-step",disabled:this.props.properties.length<=0,onClick:function(){return e.removeProperty(e.state.propertiesPos)},children:"Remove"})}),Object(E.jsx)(f.a,{span:3,className:"align-right",children:Object(E.jsx)(x.a,{size:"small",className:"button-step",disabled:this.state.propertiesPos>=this.props.properties.length-1,onClick:function(){return e.propertiesRef.next()},children:Object(E.jsx)(k.a,{icon:P.b})})})]})}),Object(E.jsx)(f.a,{span:24,children:Object(E.jsx)(v.a,{ref:function(t){return e.propertiesRef=t},afterChange:function(t){return e.onChangePropertiesPos(t)},dotPosition:"top",className:"properties-content",children:this.props.properties.map((function(t,n){return Object(E.jsx)(F,{update:function(t){return e.updateProperty(t)},property:t},t.id)}))})})]})})}}]),n}(s.Component),R=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(u.a)(this,n),(s=t.call(this,e)).index=0,s.state={mode:0,inputEncrypt:"",inputDecrypt:"",iv:"",properties:[{id:s.index}]},s}return Object(l.a)(n,[{key:"packProperties",value:function(e){return e.reduce((function(e,t){return"string"===typeof t.key&&""!==t.key&&"string"===typeof t.value&&""!==t.value&&e.push([t.key.toLowerCase(),t.value]),e}),[])}},{key:"onChangeMode",value:function(e){this.setState((function(t){return{mode:e}}))}},{key:"onChangeInputEncrypt",value:function(e){this.setState((function(t){return{inputEncrypt:e}}))}},{key:"onChangeInputDecrypt",value:function(e){this.setState((function(t){return{inputDecrypt:e}}))}},{key:"onChangeIv",value:function(e){this.setState((function(t){return{iv:e}}))}},{key:"onChangeProperties",value:function(e){this.setState((function(t){return{properties:e}}))}},{key:"onFinish",value:function(){var e=this.packProperties(this.state.properties);0===this.state.mode?this.props.onEncrypt(this.state.inputEncrypt,e):1===this.state.mode&&this.props.onDecrypt(this.state.inputDecrypt,this.state.iv,e)}},{key:"render",value:function(){var e=this;return Object(E.jsx)(y.a,{className:"form-crypto-input",layout:"vertical",onFinish:function(){return e.onFinish()},children:Object(E.jsxs)(O.a,{gutter:[5,0],children:[Object(E.jsx)(f.a,{span:24,children:Object(E.jsx)(y.a.Item,{label:"Mode",children:Object(E.jsxs)(m.a.Group,{onChange:function(t){return e.onChangeMode(t.target.value)},value:this.state.mode,children:[Object(E.jsx)(m.a,{value:0,children:"Encrypt"}),Object(E.jsx)(m.a,{value:1,children:"Decrypt"})]})})}),0===this.state.mode&&Object(E.jsx)(f.a,{span:24,children:Object(E.jsx)(y.a.Item,{label:Object(E.jsxs)("div",{children:["Input ",Object(E.jsx)("small",{children:"Text"})]}),children:Object(E.jsx)(D,{rows:1,value:this.state.inputEncrypt,autoComplete:"off",onChange:function(t){return e.onChangeInputEncrypt(t.target.value)}})})}),1===this.state.mode&&Object(E.jsx)(f.a,{span:24,children:Object(E.jsx)(y.a.Item,{label:Object(E.jsxs)("div",{children:["Input ",Object(E.jsx)("small",{children:"Base64"})]}),children:Object(E.jsx)(b.a,{type:"text",value:this.state.inputDecrypt,autoComplete:"off",onChange:function(t){return e.onChangeInputDecrypt(t.target.value)}})})}),1===this.state.mode&&Object(E.jsx)(f.a,{span:24,children:Object(E.jsx)(y.a.Item,{label:Object(E.jsxs)("div",{children:["IV ",Object(E.jsx)("small",{children:"Base64"})]}),children:Object(E.jsx)(b.a,{type:"text",value:this.state.iv,autoComplete:"off",onChange:function(t){return e.onChangeIv(t.target.value)}})})}),Object(E.jsx)(f.a,{span:24,children:Object(E.jsx)(B,{properties:this.state.properties,onChange:function(t){return e.onChangeProperties(t)}})}),Object(E.jsx)(f.a,{span:24,children:Object(E.jsx)(y.a.Item,{children:Object(E.jsx)(x.a,{type:"primary",htmlType:"submit",className:"button-submit",children:0===this.state.mode?"Encrypt":"Decrypt"})})})]})})}}]),n}(s.Component),T=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(u.a)(this,n),(s=t.call(this,e)).state={},s}return Object(l.a)(n,[{key:"onFocus",value:function(e){e.target.select()}},{key:"render",value:function(){var e=this;return Object(E.jsx)(y.a,{className:"form-crypto-result",layout:"vertical",children:Object(E.jsxs)(O.a,{gutter:[0,0],children:[Object(E.jsx)(f.a,{span:24,children:this.props.result.error?Object(E.jsx)(g.a,{status:"error",title:0===this.props.result.mode?"Encryption failed":"Decryption failed"}):Object(E.jsx)(g.a,{status:"success",title:0===this.props.result.mode?"Encryption success":"Decryption success"})}),this.props.result.key&&Object(E.jsx)(f.a,{span:24,children:Object(E.jsx)(y.a.Item,{label:Object(E.jsxs)("div",{children:["Key ",Object(E.jsx)("small",{children:"Base64"})]}),children:Object(E.jsx)(b.a,{type:"text",value:this.props.result.key,className:"input-hide",onFocus:this.onFocus})})}),this.props.result.iv&&Object(E.jsx)(f.a,{span:24,children:Object(E.jsx)(y.a.Item,{label:Object(E.jsxs)("div",{children:["IV ",Object(E.jsx)("small",{children:"Base64"})]}),children:Object(E.jsx)(b.a,{type:"text",value:this.props.result.iv,onFocus:this.onFocus})})}),!this.props.result.error&&Object(E.jsx)(f.a,{span:24,children:Object(E.jsx)(y.a.Item,{label:Object(E.jsxs)("div",{children:["Result ",Object(E.jsx)("small",{children:0===this.props.result.mode?"Base64":"Text"})]}),children:Object(E.jsx)(D,{rows:1,value:0===this.props.result.mode?this.props.result.encryption:this.props.result.decryption,onFocus:this.onFocus})})}),Object(E.jsx)(f.a,{span:24,children:Object(E.jsx)(y.a.Item,{children:Object(E.jsx)(x.a,{type:"primary",className:"button-submit",onClick:function(){e.props.onFinish()},children:"Close"})})})]})})}}]),n}(s.Component),A=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(u.a)(this,n),(s=t.call(this,e)).onEncrypt=s.onEncrypt.bind(Object(c.a)(s)),s.onDecrypt=s.onDecrypt.bind(Object(c.a)(s)),s.state={step:0},s}return Object(l.a)(n,[{key:"onEncrypt",value:function(e,t){var n=JSON.stringify(t,null,0),s=N.a.SHA256(n),r=N.a.lib.WordArray.random(16),i=N.a.AES.encrypt(e,s,{iv:r,mode:N.a.mode.CBC,padding:N.a.pad.Pkcs7}),a=N.a.enc.Base64.stringify(i.ciphertext);this.result={mode:0,key:N.a.enc.Base64.stringify(s),iv:N.a.enc.Base64.stringify(r),encryption:a},this.setStep(1)}},{key:"onDecrypt",value:function(e,t,n){var s=JSON.stringify(n,null,0),r=N.a.SHA256(s);t=N.a.enc.Base64.parse(t);var i=N.a.AES.decrypt(e,r,{iv:t,mode:N.a.mode.CBC,padding:N.a.pad.Pkcs7}),a=null;try{a=N.a.enc.Utf8.stringify(i)}catch(c){}this.result=a?{mode:1,decryption:a}:{mode:1,error:!0},this.setStep(1)}},{key:"onResultFinish",value:function(e,t,n){this.setStep(0)}},{key:"setStep",value:function(e){this.setState({step:e})}},{key:"render",value:function(){var e=this;return Object(E.jsx)(d.a,{className:"layout",children:Object(E.jsx)(S,{className:"layout-content",children:Object(E.jsxs)(C.a,{className:"card",children:[0===this.state.step&&Object(E.jsx)(R,{onEncrypt:this.onEncrypt,onDecrypt:this.onDecrypt}),1===this.state.step&&Object(E.jsx)(T,{result:this.result,onFinish:function(){e.onResultFinish()}})]})})})}}]),n}(s.Component);a.a.render(Object(E.jsx)(r.a.StrictMode,{children:Object(E.jsx)(A,{})}),document.getElementById("root"))}},[[425,1,2]]]);
//# sourceMappingURL=main.e9684709.chunk.js.map